{"version":3,"sources":["js/player.js","js/assets.js","js/game.js","js/app.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Player","id","name","avatar","weapon","health","location","row","column","damage","image","old","Game","players","reset","document","querySelector","classList","remove","i","placeObject","obstacle","map","player","weapon1","weapon2","currentPlayer","Math","floor","random","length","detectTurn","protection","innerHTML","item","type","randomTile","tiles","dataset","detectObstacle","r1","r2","r3","r4","c1","c2","c3","c4","contains","r1c1","r2c2","r3c3","r4c4","detectPlayer","r","c","p1c","p1r","yDistance","abs","xDistance","y","x","add","querySelectorAll","panel","showPlayerMoves","e","oldPos","newPos","target","nodeName","path","weaponSound","play","tile","removeEventListener","movePlayer","detectFight","retaliation","changeTurn","Number","north","south","east","west","attacker","opponent","fightModal","setTimeout","attack","protect","run","gameOver","addEventListener","once","gameOverModal","playerNorthMoves","playerEastMoves","playerSouthMoves","playerWestMoves","output","createBoard","newGame","playerOne","player1","weapon3","generate","playerTwo","player2","weapon4","new","$","click","addClass","removeClass","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","getElementById","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA,SACJ,gBAAYC,EAAZ,EAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,MAA9B,EAAsC;AAAA;;AAAA;;AAAA,oCAO3B,YAAM;AACf,WAAO;AACLH,MAAAA,EAAE,EAAE,KAAI,CAACA,EADJ;AAELC,MAAAA,IAAI,EAAE,KAAI,CAACA,IAFN;AAGLC,MAAAA,MAAM,uBAAe,KAAI,CAACA,MAApB,UAHD;AAILE,MAAAA,MAAM,EAAE,GAJH;AAKLC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,GAAG,EAAE,CAAP;AAAUC,QAAAA,MAAM,EAAE;AAAlB,OALL;AAMLJ,MAAAA,MAAM,EAAE;AACNK,QAAAA,MAAM,EAAE,EADF;AAENC,QAAAA,KAAK,uBAAe,KAAI,CAACN,MAApB,6BAFC;AAGNO,QAAAA,GAAG,EAAE;AAHC;AANH,KAAP;AAYD,GApBqC;;AACpC,OAAKV,EAAL,GAAUA,EAAV;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,MAAL,GAAcA,MAAd;AACA,OAAKC,MAAL,GAAcA,MAAd;AACD;;eAkBYJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBf;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;ACNA;;;;;;;;;;;;IAEMY,OACJ,cAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AAAA,+BA8Bf,YAAM;AACV,IAAA,KAAI,CAACC,KAAL,GADU,CAGV;;;AACAC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,SAA1C,CAAoDC,MAApD,CAA2D,MAA3D,EAJU,CAMV;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,MAAA,KAAI,CAACC,WAAL,sBAA8BC,gBAA9B,YAA8C,UAA9C;AACD,KATS,CAWV;;;AACA,IAAA,KAAI,CAACR,OAAL,CAAaS,GAAb,CAAiB,UAACC,MAAD,EAAY;AAC3B,MAAA,KAAI,CAACH,WAAL,CAAiBG,MAAjB,EAAyB,QAAzB;AACD,KAFD,EAZU,CAgBV;;;AACA,IAAA,KAAI,CAACH,WAAL,sBAA8BI,eAA9B,+BAA8D,QAA9D;;AACA,IAAA,KAAI,CAACJ,WAAL,sBAA8BK,eAA9B,gCAA+D,QAA/D,EAlBU,CAoBV;;;AACA,IAAA,KAAI,CAACC,aAAL,GAAqB,KAAI,CAACb,OAAL,CACnBc,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAI,CAAChB,OAAL,CAAaiB,MAAxC,CADmB,CAArB;;AAIA,IAAA,KAAI,CAACC,UAAL;AACD,GAxDoB;;AAAA,iCA2Db,YAAM;AACZ,IAAA,KAAI,CAAClB,OAAL,CAAaS,GAAb,CAAiB,UAACC,MAAD,EAAY;AAC3B,UAAMS,UAAU,GAAGjB,QAAQ,CAACC,aAAT,wBAAuCO,MAAM,CAACtB,EAA9C,EAAnB;AAEA+B,MAAAA,UAAU,CAACC,SAAX,GAAuB,aAAvB;AACAD,MAAAA,UAAU,CAACf,SAAX,CAAqBC,MAArB,CAA4B,YAA5B;AAEAH,MAAAA,QAAQ,CAACC,aAAT,mBAAkCO,MAAM,CAACtB,EAAzC,UAAkDgC,SAAlD,GAA8DV,MAAM,CAACrB,IAArE;AACAa,MAAAA,QAAQ,CAACC,aAAT,oBAAmCO,MAAM,CAACtB,EAA1C,GAAgDgC,SAAhD,GAA4DV,MAAM,CAAClB,MAAnE;AACAU,MAAAA,QAAQ,CAACC,aAAT,oBAAmCO,MAAM,CAACtB,EAA1C,GAAgDgC,SAAhD,GACEV,MAAM,CAACnB,MAAP,CAAcK,MADhB;AAEAM,MAAAA,QAAQ,CAACC,aAAT,oBAAmCO,MAAM,CAACtB,EAA1C,GAAgDgC,SAAhD,GACEV,MAAM,CAACnB,MAAP,CAAcM,KADhB;AAED,KAZD;AAaD,GAzEoB;;AAAA,uCA6EP,UAACwB,IAAD,EAAOC,IAAP,EAAgB;AAC5B,QAAMC,UAAU,GAAGT,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAAI,CAACQ,KAAL,CAAWP,MAAtC,CAAnB;AAD4B,gCAEJ,KAAI,CAACO,KAAL,CAAWD,UAAX,EAAuBE,OAFnB;AAAA,QAEpB/B,GAFoB,yBAEpBA,GAFoB;AAAA,QAEfC,MAFe,yBAEfA,MAFe,EAI5B;;AACA,QAAM+B,cAAc,GAAG,SAAjBA,cAAiB,CAAChC,GAAD,EAAMC,MAAN,EAAiB;AACtC,UAAMgC,EAAE,GAAGzB,QAAQ,CAACC,aAAT,uBACKT,GAAG,GAAG,CADX,+BAC+BC,MAD/B,SAAX;AAGA,UAAMiC,EAAE,GAAG1B,QAAQ,CAACC,aAAT,uBACKT,GAAG,GAAG,CADX,+BAC+BC,MAD/B,SAAX;AAGA,UAAMkC,EAAE,GAAG3B,QAAQ,CAACC,aAAT,uBACKT,GAAG,GAAG,CADX,+BAC+BC,MAD/B,SAAX;AAGA,UAAMmC,EAAE,GAAG5B,QAAQ,CAACC,aAAT,uBACKT,GAAG,GAAG,CADX,+BAC+BC,MAD/B,SAAX,CAVsC,CActC;;AACA,UAAMoC,EAAE,GAAG7B,QAAQ,CAACC,aAAT,0BACQR,MAAM,GAAG,CADjB,4BACkCD,GADlC,SAAX;AAGA,UAAMsC,EAAE,GAAG9B,QAAQ,CAACC,aAAT,0BACQR,MAAM,GAAG,CADjB,4BACkCD,GADlC,SAAX;AAGA,UAAMuC,EAAE,GAAG/B,QAAQ,CAACC,aAAT,0BACQR,MAAM,GAAG,CADjB,4BACkCD,GADlC,SAAX;AAGA,UAAMwC,EAAE,GAAGhC,QAAQ,CAACC,aAAT,0BACQR,MAAM,GAAG,CADjB,4BACkCD,GADlC,SAAX;AAIA,UAAIiC,EAAE,IAAIA,EAAE,CAACvB,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAC7C,UAAIP,EAAE,IAAIA,EAAE,CAACxB,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAC7C,UAAIN,EAAE,IAAIA,EAAE,CAACzB,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAC7C,UAAIL,EAAE,IAAIA,EAAE,CAAC1B,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAE7C,UAAIJ,EAAE,IAAIA,EAAE,CAAC3B,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAC7C,UAAIH,EAAE,IAAIA,EAAE,CAAC5B,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAC7C,UAAIF,EAAE,IAAIA,EAAE,CAAC7B,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP;AAC7C,UAAID,EAAE,IAAIA,EAAE,CAAC9B,SAAH,CAAa+B,QAAb,CAAsB,UAAtB,CAAV,EAA6C,OAAO,IAAP,CApCP,CAsCtC;;AACA,UAAMC,IAAI,GAAGlC,QAAQ,CAACC,aAAT,uBACGT,GAAG,GAAG,CADT,+BAC6BC,MAAM,GAAG,CADtC,SAAb;AAIA,UAAM0C,IAAI,GAAGnC,QAAQ,CAACC,aAAT,uBACGT,GAAG,GAAG,CADT,+BAC6BC,MAAM,GAAG,CADtC,SAAb;AAIA,UAAM2C,IAAI,GAAGpC,QAAQ,CAACC,aAAT,uBACGT,GAAG,GAAG,CADT,+BAC6BC,MAAM,GAAG,CADtC,SAAb;AAIA,UAAM4C,IAAI,GAAGrC,QAAQ,CAACC,aAAT,uBACGT,GAAG,GAAG,CADT,+BAC6BC,MAAM,GAAG,CADtC,SAAb;AAIA,UAAIyC,IAAI,IAAIA,IAAI,CAAChC,SAAL,CAAe+B,QAAf,CAAwB,UAAxB,CAAZ,EAAiD,OAAO,IAAP;AACjD,UAAIE,IAAI,IAAIA,IAAI,CAACjC,SAAL,CAAe+B,QAAf,CAAwB,UAAxB,CAAZ,EAAiD,OAAO,IAAP;AACjD,UAAIG,IAAI,IAAIA,IAAI,CAAClC,SAAL,CAAe+B,QAAf,CAAwB,UAAxB,CAAZ,EAAiD,OAAO,IAAP;AACjD,UAAII,IAAI,IAAIA,IAAI,CAACnC,SAAL,CAAe+B,QAAf,CAAwB,UAAxB,CAAZ,EAAiD,OAAO,IAAP;AAClD,KA3DD;;AA6DA,QAAMK,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAIC,CAAJ,EAAU;AAC7B,UAAI,KAAI,CAAC1C,OAAL,CAAa,CAAb,EAAgBP,QAAhB,CAAyBC,GAAzB,GAA+B,CAAnC,EAAsC;AACpC,YAAMiD,GAAG,GAAG,CAAC,KAAI,CAAC3C,OAAL,CAAa,CAAb,EAAgBP,QAAhB,CAAyBE,MAAtC;AACA,YAAMiD,GAAG,GAAG,CAAC,KAAI,CAAC5C,OAAL,CAAa,CAAb,EAAgBP,QAAhB,CAAyBC,GAAtC;AAEA,YAAMmD,SAAS,GAAG/B,IAAI,CAACgC,GAAL,CAASF,GAAG,GAAGlD,GAAf,CAAlB;AACA,YAAMqD,SAAS,GAAGjC,IAAI,CAACgC,GAAL,CAASH,GAAG,GAAGhD,MAAf,CAAlB,CALoC,CAOpC;;AACA,YAAIgD,GAAG,KAAKhD,MAAR,IAAkBkD,SAAS,IAAI,CAAnC,EAAsC;AACpC;AACA,eAAK,IAAIvC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIuC,SAArB,EAAgCvC,CAAC,EAAjC,EAAqC;AACnC,gBAAIsC,GAAG,GAAGlD,GAAV,EAAe;AACb,kBAAMsD,CAAC,GAAG9C,QAAQ,CAACC,aAAT,uBACMyC,GAAG,GAAGtC,CADZ,+BACgCqC,GADhC,SAAV;AAGA,kBAAIK,CAAC,IAAIA,CAAC,CAAC5C,SAAF,CAAY+B,QAAZ,CAAqB,UAArB,CAAT,EAA2C,OAAO,KAAP;AAC5C,aALD,MAKO;AACL,kBAAMa,EAAC,GAAG9C,QAAQ,CAACC,aAAT,uBACMyC,GAAG,GAAGtC,CADZ,+BACgCqC,GADhC,SAAV;;AAGA,kBAAIK,EAAC,IAAIA,EAAC,CAAC5C,SAAF,CAAY+B,QAAZ,CAAqB,UAArB,CAAT,EAA2C,OAAO,KAAP;AAC5C;AACF;;AAED,iBAAO,IAAP;AACD,SAzBmC,CA2BpC;;;AACA,YAAIS,GAAG,KAAKlD,GAAR,IAAeqD,SAAS,IAAI,CAAhC,EAAmC;AACjC;AACA,eAAK,IAAIzC,EAAC,GAAG,CAAb,EAAgBA,EAAC,IAAIyC,SAArB,EAAgCzC,EAAC,EAAjC,EAAqC;AACnC,gBAAIqC,GAAG,GAAGhD,MAAV,EAAkB;AAChB,kBAAMsD,CAAC,GAAG/C,QAAQ,CAACC,aAAT,uBACMyC,GADN,+BAC4BD,GAAG,GAAGrC,EADlC,SAAV;AAGA,kBAAI2C,CAAC,IAAIA,CAAC,CAAC7C,SAAF,CAAY+B,QAAZ,CAAqB,UAArB,CAAT,EAA2C,OAAO,KAAP;AAC5C,aALD,MAKO;AACL,kBAAMc,EAAC,GAAG/C,QAAQ,CAACC,aAAT,uBACMyC,GADN,+BAC4BD,GAAG,GAAGrC,EADlC,SAAV;;AAGA,kBAAI2C,EAAC,IAAIA,EAAC,CAAC7C,SAAF,CAAY+B,QAAZ,CAAqB,UAArB,CAAT,EAA2C,OAAO,KAAP;AAC5C;AACF;;AAED,iBAAO,IAAP;AACD;;AAED,YACGY,SAAS,KAAK,CAAd,IAAmBF,SAAS,IAAI,CAAjC,IACCA,SAAS,KAAK,CAAd,IAAmBE,SAAS,IAAI,CAFnC,EAIE,OAAO,IAAP;AACH;AACF,KAtDD;;AAwDA,QAAI,KAAI,CAACvB,KAAL,CAAWD,UAAX,EAAuBnB,SAAvB,CAAiC+B,QAAjC,CAA0C,UAA1C,CAAJ,EACE,OAAO,KAAI,CAAC5B,WAAL,CAAiBc,IAAjB,EAAuBC,IAAvB,CAAP;;AAEF,QAAIA,IAAI,KAAK,QAAb,EAAuB;AACrB,UAAIkB,YAAY,CAAC,CAAC9C,GAAF,EAAO,CAACC,MAAR,CAAhB,EAAiC;AAC/B,eAAO,KAAI,CAACY,WAAL,CAAiBc,IAAjB,EAAuBC,IAAvB,CAAP;AACD;;AAED,MAAA,KAAI,CAACtB,OAAL,CAAaqB,IAAI,CAACjC,EAAL,GAAU,CAAvB,EAA0BK,QAA1B,GAAqC;AAAEC,QAAAA,GAAG,EAAHA,GAAF;AAAOC,QAAAA,MAAM,EAANA;AAAP,OAArC;AAEA,MAAA,KAAI,CAAC6B,KAAL,CAAWD,UAAX,EAAuBH,SAAvB,GAAmCC,IAAI,CAAC/B,MAAxC;AACD,KARD,MAQO;AACL,UAAIgC,IAAI,KAAK,UAAT,IAAuBI,cAAc,CAAC,CAAChC,GAAF,EAAO,CAACC,MAAR,CAAzC,EAA0D;AACxD,eAAO,KAAI,CAACY,WAAL,CAAiBc,IAAjB,EAAuBC,IAAvB,CAAP;AACD;;AACD,MAAA,KAAI,CAACE,KAAL,CAAWD,UAAX,EAAuBH,SAAvB,GAAmCC,IAAnC;AACD;;AACD,IAAA,KAAI,CAACG,KAAL,CAAWD,UAAX,EAAuBnB,SAAvB,CAAiC8C,GAAjC,CAAqC5B,IAArC;;AACA,IAAA,KAAI,CAACE,KAAL,CAAWD,UAAX,EAAuBnB,SAAvB,CAAiC8C,GAAjC,CAAqC,UAArC;AACD,GA1NoB;;AAAA,sCA8NR,YAAM;AAAA,+CACGhD,QAAQ,CAACiD,gBAAT,CAA0B,QAA1B,CADH;AAAA;;AAAA;AACjB,0DAAyD;AAAA,YAA9CC,KAA8C;AACvDA,QAAAA,KAAK,CAAChD,SAAN,CAAgBC,MAAhB,CAAuB,SAAvB;AACD;AAHgB;AAAA;AAAA;AAAA;AAAA;;AAKjBH,IAAAA,QAAQ,CACLC,aADH,mBAC4B,KAAI,CAACU,aAAL,CAAmBzB,EAD/C,GAEGgB,SAFH,CAEa8C,GAFb,CAEiB,SAFjB;;AAIA,IAAA,KAAI,CAACG,eAAL;AACD,GAxOoB;;AAAA,sCA4OR,YAAM;AACjB,QAAI,KAAI,CAACxC,aAAL,CAAmBzB,EAAnB,KAA0B,CAA9B,EAAiC;AAC/B,MAAA,KAAI,CAACyB,aAAL,GAAqB,KAAI,CAACb,OAAL,CAAa,CAAb,CAArB;AACD,KAFD,MAEO;AACL,MAAA,KAAI,CAACa,aAAL,GAAqB,KAAI,CAACb,OAAL,CAAa,CAAb,CAArB;AACD;;AAED,IAAA,KAAI,CAACkB,UAAL;AACD,GApPoB;;AAAA,sCAwPR,UAACoC,CAAD,EAAO;AAClB,QAAMC,MAAM,GAAGrD,QAAQ,CAACC,aAAT,uBACC,KAAI,CAACU,aAAL,CAAmBpB,QAAnB,CAA4BC,GAD7B,+BACmD,KAAI,CAACmB,aAAL,CAAmBpB,QAAnB,CAA4BE,MAD/E,SAAf;AAIA,QAAM6D,MAAM,GAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,KAAsB,KAAtB,GAA8BJ,CAAC,CAACK,IAAF,CAAO,CAAP,CAA9B,GAA0CL,CAAC,CAACG,MAA3D;;AAEA,QAAI,KAAI,CAAC5C,aAAL,CAAmBtB,MAAnB,CAA0BO,GAA9B,EAAmC;AACjCyD,MAAAA,MAAM,CAACnC,SAAP,GAAmB,KAAI,CAACP,aAAL,CAAmBtB,MAAnB,CAA0BO,GAA7C;AACAyD,MAAAA,MAAM,CAACnD,SAAP,CAAiB8C,GAAjB,CAAqB,QAArB;AACAK,MAAAA,MAAM,CAACnD,SAAP,CAAiBC,MAAjB,CAAwB,QAAxB;AACA,MAAA,KAAI,CAACL,OAAL,CAAa,KAAI,CAACa,aAAL,CAAmBzB,EAAnB,GAAwB,CAArC,EAAwCG,MAAxC,CAA+CO,GAA/C,GAAqD,IAArD;AACD,KALD,MAKO;AACLyD,MAAAA,MAAM,CAACnC,SAAP,GAAmB,EAAnB;AACAmC,MAAAA,MAAM,CAACnD,SAAP,GAAmB,EAAnB;AACD;;AAED,QAAIoD,MAAM,CAACpD,SAAP,CAAiB+B,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC;AACvC,MAAA,KAAI,CAACnC,OAAL,CACE,KAAI,CAACa,aAAL,CAAmBzB,EAAnB,GAAwB,CAD1B,EAEEG,MAFF,CAESO,GAFT,GAEe,KAAI,CAACe,aAAL,CAAmBtB,MAAnB,CAA0BM,KAFzC;AAIA,MAAA,KAAI,CAACG,OAAL,CAAa,KAAI,CAACa,aAAL,CAAmBzB,EAAnB,GAAwB,CAArC,EAAwCG,MAAxC,CAA+CM,KAA/C,GAAuD2D,MAAM,CAACpC,SAA9D;AAEA,MAAA,KAAI,CAACpB,OAAL,CAAa,KAAI,CAACa,aAAL,CAAmBzB,EAAnB,GAAwB,CAArC,EAAwCG,MAAxC,CAA+CK,MAA/C,GACE0D,CAAC,CAACG,MAAF,CAAShC,OAAT,CAAiB7B,MADnB;AAGAM,MAAAA,QAAQ,CAACC,aAAT,oBAAmC,KAAI,CAACU,aAAL,CAAmBzB,EAAtD,GAA4DgC,SAA5D,GACEoC,MAAM,CAACpC,SADT;AAGAlB,MAAAA,QAAQ,CAACC,aAAT,oBAAmC,KAAI,CAACU,aAAL,CAAmBzB,EAAtD,GAA4DgC,SAA5D,GACEkC,CAAC,CAACG,MAAF,CAAShC,OAAT,CAAiB7B,MADnB;AAGA,UAAIgE,WAAW,GAAG1D,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAlB;AACAyD,MAAAA,WAAW,CAACC,IAAZ;AACD;;AAEDL,IAAAA,MAAM,CAACpC,SAAP,GAAmB,KAAI,CAACP,aAAL,CAAmBvB,MAAtC;AACAkE,IAAAA,MAAM,CAACpD,SAAP,CAAiB8C,GAAjB,CAAqB,QAArB,EAA+B,UAA/B;AAEA,IAAA,KAAI,CAAClD,OAAL,CAAa,KAAI,CAACa,aAAL,CAAmBzB,EAAnB,GAAwB,CAArC,EAAwCK,QAAxC,GAAmD;AACjDC,MAAAA,GAAG,EAAE8D,MAAM,CAAC/B,OAAP,CAAe/B,GAD6B;AAEjDC,MAAAA,MAAM,EAAE6D,MAAM,CAAC/B,OAAP,CAAe9B;AAF0B,KAAnD;;AAxCkB,gDA6CCO,QAAQ,CAACiD,gBAAT,CAA0B,YAA1B,CA7CD;AAAA;;AAAA;AA6ClB,6DAA4D;AAAA,YAAjDW,IAAiD;AAC1DA,QAAAA,IAAI,CAAC1D,SAAL,CAAeC,MAAf,CAAsB,WAAtB;AACAyD,QAAAA,IAAI,CAACC,mBAAL,CAAyB,OAAzB,EAAkC,KAAI,CAACC,UAAvC;AACD;AAhDiB;AAAA;AAAA;AAAA;AAAA;;AAkDlB,QAAI,KAAI,CAACC,WAAL,EAAJ,EAAwB;AACtB,MAAA,KAAI,CAACC,WAAL;AACD,KAFD,MAEO;AACL,MAAA,KAAI,CAACC,UAAL;AACD;AACF,GA/SoB;;AAAA,uCAmTP,YAAM;AAClB,QAAMzE,GAAG,GAAG0E,MAAM,CAAC,KAAI,CAACvD,aAAL,CAAmBpB,QAAnB,CAA4BC,GAA7B,CAAlB;AACA,QAAMC,MAAM,GAAGyE,MAAM,CAAC,KAAI,CAACvD,aAAL,CAAmBpB,QAAnB,CAA4BE,MAA7B,CAArB;AAEA,QAAM0E,KAAK,GAAGnE,QAAQ,CAACC,aAAT,uBACET,GAAG,GAAG,CADR,+BAC4BC,MAD5B,SAAd;AAIA,QAAM2E,KAAK,GAAGpE,QAAQ,CAACC,aAAT,uBACET,GAAG,GAAG,CADR,+BAC4BC,MAD5B,SAAd;AAIA,QAAM4E,IAAI,GAAGrE,QAAQ,CAACC,aAAT,uBACGT,GADH,+BACyBC,MAAM,GAAG,CADlC,SAAb;AAIA,QAAM6E,IAAI,GAAGtE,QAAQ,CAACC,aAAT,uBACGT,GADH,+BACyBC,MAAM,GAAG,CADlC,SAAb;AAIA,QAAI0E,KAAK,IAAIA,KAAK,CAACjE,SAAN,CAAgB+B,QAAhB,CAAyB,QAAzB,CAAb,EAAiD,OAAO,IAAP;AACjD,QAAImC,KAAK,IAAIA,KAAK,CAAClE,SAAN,CAAgB+B,QAAhB,CAAyB,QAAzB,CAAb,EAAiD,OAAO,IAAP;AACjD,QAAIoC,IAAI,IAAIA,IAAI,CAACnE,SAAL,CAAe+B,QAAf,CAAwB,QAAxB,CAAZ,EAA+C,OAAO,IAAP;AAC/C,QAAIqC,IAAI,IAAIA,IAAI,CAACpE,SAAL,CAAe+B,QAAf,CAAwB,QAAxB,CAAZ,EAA+C,OAAO,IAAP;AAChD,GA3UoB;;AAAA,uCA6UP,YAAM;AAClB,QAAMsC,QAAQ,GAAG,KAAI,CAAC5D,aAAtB;AACA,IAAA,KAAI,CAACA,aAAL,GAAqB4D,QAAQ,CAACrF,EAAT,KAAgB,CAAhB,GAAoB,KAAI,CAACY,OAAL,CAAa,CAAb,CAApB,GAAsC,KAAI,CAACA,OAAL,CAAa,CAAb,CAA3D;AACA,QAAM0E,QAAQ,GAAG,KAAI,CAAC7D,aAAtB;AAEAX,IAAAA,QAAQ,CACLC,aADH,mBAC4BsE,QAAQ,CAACrF,EADrC,GAEGgB,SAFH,CAEaC,MAFb,CAEoB,SAFpB;AAGAH,IAAAA,QAAQ,CAACC,aAAT,mBAAkCuE,QAAQ,CAACtF,EAA3C,GAAiDgB,SAAjD,CAA2D8C,GAA3D,CAA+D,SAA/D,EARkB,CAUlB;;AACA,QAAMyB,UAAU,GAAGzE,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAnB;AACAD,IAAAA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCiB,SAAlC,GAA8CsD,QAAQ,CAACpF,MAAvD;AAEAsF,IAAAA,UAAU,CAAC,YAAM;AACfD,MAAAA,UAAU,CAACvE,SAAX,CAAqB8C,GAArB,CAAyB,MAAzB;AACD,KAFS,EAEP,GAFO,CAAV;;AAIA,QAAM2B,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB3E,MAAAA,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmC4D,mBAAnC,CAAuD,OAAvD,EAAgEe,OAAhE;AACA5E,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+B4D,mBAA/B,CAAmD,OAAnD,EAA4DgB,GAA5D;AAEAJ,MAAAA,UAAU,CAACvE,SAAX,CAAqBC,MAArB,CAA4B,MAA5B;AAEA,UAAMb,MAAM,GAAGkF,QAAQ,CAAClF,MAAT,GAAkBiF,QAAQ,CAAClF,MAAT,CAAgBK,MAAjD;AACAM,MAAAA,QAAQ,CAACC,aAAT,oBAAmCuE,QAAQ,CAACtF,EAA5C,GAAkDgC,SAAlD,GAA8D5B,MAA9D;AACA,MAAA,KAAI,CAACQ,OAAL,CAAa0E,QAAQ,CAACtF,EAAT,GAAc,CAA3B,EAA8BI,MAA9B,GAAuCA,MAAvC;AACA,UAAM2B,UAAU,GAAGjB,QAAQ,CAACC,aAAT,wBAAuCuE,QAAQ,CAACtF,EAAhD,EAAnB;AACA+B,MAAAA,UAAU,CAACC,SAAX,GAAuB,aAAvB;AACAD,MAAAA,UAAU,CAACf,SAAX,CAAqBC,MAArB,CAA4B,YAA5B;AAEA,UAAI,KAAI,CAAC2E,QAAL,CAAcP,QAAd,EAAwBC,QAAxB,CAAJ,EAAuC;;AAEvC,MAAA,KAAI,CAACR,WAAL;AACD,KAhBD;;AAkBA,QAAMY,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB5E,MAAAA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkC4D,mBAAlC,CAAsD,OAAtD,EAA+Dc,MAA/D;AACA3E,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+B4D,mBAA/B,CAAmD,OAAnD,EAA4DgB,GAA5D;AAEAJ,MAAAA,UAAU,CAACvE,SAAX,CAAqBC,MAArB,CAA4B,MAA5B;AAEA,UAAMb,MAAM,GAAGkF,QAAQ,CAAClF,MAAT,GAAkBiF,QAAQ,CAAClF,MAAT,CAAgBK,MAAhB,GAAyB,CAA1D;AACAM,MAAAA,QAAQ,CAACC,aAAT,oBAAmCuE,QAAQ,CAACtF,EAA5C,GAAkDgC,SAAlD,GAA8D5B,MAA9D;AACA,MAAA,KAAI,CAACQ,OAAL,CAAa0E,QAAQ,CAACtF,EAAT,GAAc,CAA3B,EAA8BI,MAA9B,GAAuCA,MAAvC;AACA,UAAM2B,UAAU,GAAGjB,QAAQ,CAACC,aAAT,wBAAuCuE,QAAQ,CAACtF,EAAhD,EAAnB;AACA+B,MAAAA,UAAU,CAACC,SAAX,GAAuB,WAAvB;AACAD,MAAAA,UAAU,CAACf,SAAX,CAAqB8C,GAArB,CAAyB,YAAzB;AAEA,UAAI,KAAI,CAAC8B,QAAL,CAAcP,QAAd,EAAwBC,QAAxB,CAAJ,EAAuC;;AAEvC,MAAA,KAAI,CAACR,WAAL;AACD,KAhBD;;AAkBA,QAAMa,GAAG,GAAG,SAANA,GAAM,GAAM;AAChB7E,MAAAA,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkC4D,mBAAlC,CAAsD,OAAtD,EAA+Dc,MAA/D;AACA3E,MAAAA,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmC4D,mBAAnC,CAAuD,OAAvD,EAAgEe,OAAhE;AAEAH,MAAAA,UAAU,CAACvE,SAAX,CAAqBC,MAArB,CAA4B,MAA5B;AAEA,UAAMb,MAAM,GAAGkF,QAAQ,CAAClF,MAAT,GAAkBiF,QAAQ,CAAClF,MAAT,CAAgBK,MAAhB,GAAyB,CAA1D;AACAM,MAAAA,QAAQ,CAACC,aAAT,oBAAmCuE,QAAQ,CAACtF,EAA5C,GAAkDgC,SAAlD,GAA8D5B,MAA9D;AACA,MAAA,KAAI,CAACQ,OAAL,CAAa0E,QAAQ,CAACtF,EAAT,GAAc,CAA3B,EAA8BI,MAA9B,GAAuCA,MAAvC;AACA,UAAM2B,UAAU,GAAGjB,QAAQ,CAACC,aAAT,wBAAuCuE,QAAQ,CAACtF,EAAhD,EAAnB;AACA+B,MAAAA,UAAU,CAACC,SAAX,GAAuB,WAAvB;AACAD,MAAAA,UAAU,CAACf,SAAX,CAAqB8C,GAArB,CAAyB,YAAzB;AAEA,UAAI,KAAI,CAAC8B,QAAL,CAAcP,QAAd,EAAwBC,QAAxB,CAAJ,EAAuC;;AAEvC,MAAA,KAAI,CAACrB,eAAL;AACD,KAhBD;;AAkBAnD,IAAAA,QAAQ,CACLC,aADH,CACiB,UADjB,EAEG8E,gBAFH,CAEoB,OAFpB,EAE6BH,OAF7B,EAEsC;AAAEI,MAAAA,IAAI,EAAE;AAAR,KAFtC;AAIAhF,IAAAA,QAAQ,CACLC,aADH,CACiB,SADjB,EAEG8E,gBAFH,CAEoB,OAFpB,EAE6BJ,MAF7B,EAEqC;AAAEK,MAAAA,IAAI,EAAE;AAAR,KAFrC;AAIAhF,IAAAA,QAAQ,CACLC,aADH,CACiB,MADjB,EAEG8E,gBAFH,CAEoB,OAFpB,EAE6BF,GAF7B,EAEkC;AAAEG,MAAAA,IAAI,EAAE;AAAR,KAFlC;AAGD,GAhaoB;;AAAA,oCAoaV,UAACT,QAAD,EAAWC,QAAX,EAAwB;AACjC,QAAI,KAAI,CAAC1E,OAAL,CAAa0E,QAAQ,CAACtF,EAAT,GAAc,CAA3B,EAA8BI,MAA9B,IAAwC,CAA5C,EAA+C;AAC7C,UAAM2F,aAAa,GAAGjF,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;AAEAgF,MAAAA,aAAa,CAAC/E,SAAd,CAAwB8C,GAAxB,CAA4B,MAA5B;AAEAhD,MAAAA,QAAQ,CAACC,aAAT,CACE,iCADF,EAEEiB,SAFF,aAEiBqD,QAAQ,CAACpF,IAF1B;AAIAa,MAAAA,QAAQ,CAACC,aAAT,CACE,gCADF,EAEEiB,SAFF,aAEiBsD,QAAQ,CAACrF,IAF1B;AAIA,aAAO,IAAP;AACD;AACF,GApboB;;AAAA,2CAwbH,YAAM;AACtB,QAAMK,GAAG,GAAG0E,MAAM,CAAC,KAAI,CAACvD,aAAL,CAAmBpB,QAAnB,CAA4BC,GAA7B,CAAlB;AACA,QAAMC,MAAM,GAAGyE,MAAM,CAAC,KAAI,CAACvD,aAAL,CAAmBpB,QAAnB,CAA4BE,MAA7B,CAArB;;AAEA,QAAMyF,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACtB,IAAD,EAAU;AACjC,aAAO5D,QAAQ,CAACC,aAAT,uBACST,GAAG,GAAGoE,IADf,+BACsCnE,MADtC,SAAP;AAGD,KAJD;;AAMA,QAAM0F,eAAe,GAAG,SAAlBA,eAAkB,CAACvB,IAAD,EAAU;AAChC,aAAO5D,QAAQ,CAACC,aAAT,uBACST,GADT,+BAC+BC,MAAM,GAAGmE,IADxC,SAAP;AAGD,KAJD;;AAMA,QAAMwB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACxB,IAAD,EAAU;AACjC,aAAO5D,QAAQ,CAACC,aAAT,uBACST,GAAG,GAAGoE,IADf,+BACsCnE,MADtC,SAAP;AAGD,KAJD;;AAMA,QAAM4F,eAAe,GAAG,SAAlBA,eAAkB,CAACzB,IAAD,EAAU;AAChC,aAAO5D,QAAQ,CAACC,aAAT,uBACST,GADT,+BAC+BC,MAAM,GAAGmE,IADxC,SAAP;AAGD,KAJD,CAtBsB,CA4BtB;;;AACA,SAAK,IAAIxD,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,UAAI8E,gBAAgB,CAAC9E,CAAD,CAApB,EAAyB;AACvB,YACE,CAAC8E,gBAAgB,CAAC9E,CAAD,CAAhB,CAAoBF,SAApB,CAA8B+B,QAA9B,CAAuC,UAAvC,CAAD,IACA,CAACiD,gBAAgB,CAAC9E,CAAD,CAAhB,CAAoBF,SAApB,CAA8B+B,QAA9B,CAAuC,QAAvC,CAFH,EAGE;AACAiD,UAAAA,gBAAgB,CAAC9E,CAAD,CAAhB,CAAoBF,SAApB,CAA8B8C,GAA9B,CAAkC,WAAlC;AACAkC,UAAAA,gBAAgB,CAAC9E,CAAD,CAAhB,CAAoB2E,gBAApB,CAAqC,OAArC,EAA8C,KAAI,CAACjB,UAAnD;AACD,SAND,MAMO;AACL;AACD;AACF;AACF,KAzCqB,CA2CtB;;;AACA,SAAK,IAAI1D,GAAC,GAAG,CAAb,EAAgBA,GAAC,IAAI,CAArB,EAAwBA,GAAC,EAAzB,EAA6B;AAC3B,UAAI+E,eAAe,CAAC/E,GAAD,CAAnB,EAAwB;AACtB,YACE,CAAC+E,eAAe,CAAC/E,GAAD,CAAf,CAAmBF,SAAnB,CAA6B+B,QAA7B,CAAsC,UAAtC,CAAD,IACA,CAACkD,eAAe,CAAC/E,GAAD,CAAf,CAAmBF,SAAnB,CAA6B+B,QAA7B,CAAsC,QAAtC,CAFH,EAGE;AACAkD,UAAAA,eAAe,CAAC/E,GAAD,CAAf,CAAmBF,SAAnB,CAA6B8C,GAA7B,CAAiC,WAAjC;AACAmC,UAAAA,eAAe,CAAC/E,GAAD,CAAf,CAAmB2E,gBAAnB,CAAoC,OAApC,EAA6C,KAAI,CAACjB,UAAlD;AACD,SAND,MAMO;AACL;AACD;AACF;AACF,KAxDqB,CA0DtB;;;AACA,SAAK,IAAI1D,GAAC,GAAG,CAAb,EAAgBA,GAAC,IAAI,CAArB,EAAwBA,GAAC,EAAzB,EAA6B;AAC3B,UAAIgF,gBAAgB,CAAChF,GAAD,CAApB,EAAyB;AACvB,YACE,CAACgF,gBAAgB,CAAChF,GAAD,CAAhB,CAAoBF,SAApB,CAA8B+B,QAA9B,CAAuC,UAAvC,CAAD,IACA,CAACmD,gBAAgB,CAAChF,GAAD,CAAhB,CAAoBF,SAApB,CAA8B+B,QAA9B,CAAuC,QAAvC,CAFH,EAGE;AACAmD,UAAAA,gBAAgB,CAAChF,GAAD,CAAhB,CAAoBF,SAApB,CAA8B8C,GAA9B,CAAkC,WAAlC;AACAoC,UAAAA,gBAAgB,CAAChF,GAAD,CAAhB,CAAoB2E,gBAApB,CAAqC,OAArC,EAA8C,KAAI,CAACjB,UAAnD;AACD,SAND,MAMO;AACL;AACD;AACF;AACF,KAvEqB,CAyEtB;;;AACA,SAAK,IAAI1D,GAAC,GAAG,CAAb,EAAgBA,GAAC,IAAI,CAArB,EAAwBA,GAAC,EAAzB,EAA6B;AAC3B,UAAIiF,eAAe,CAACjF,GAAD,CAAnB,EAAwB;AACtB,YACE,CAACiF,eAAe,CAACjF,GAAD,CAAf,CAAmBF,SAAnB,CAA6B+B,QAA7B,CAAsC,UAAtC,CAAD,IACA,CAACoD,eAAe,CAACjF,GAAD,CAAf,CAAmBF,SAAnB,CAA6B+B,QAA7B,CAAsC,QAAtC,CAFH,EAGE;AACAoD,UAAAA,eAAe,CAACjF,GAAD,CAAf,CAAmBF,SAAnB,CAA6B8C,GAA7B,CAAiC,WAAjC;AACAqC,UAAAA,eAAe,CAACjF,GAAD,CAAf,CAAmB2E,gBAAnB,CAAoC,OAApC,EAA6C,KAAI,CAACjB,UAAlD;AACD,SAND,MAMO;AACL;AACD;AACF;AACF;AACF,GA/gBoB;;AACnB,OAAKhE,OAAL,GAAeA,OAAf;AACA,OAAKwB,KAAL,GAAatB,QAAQ,CAACiD,gBAAT,CAA0B,cAA1B,CAAb;AACA,OAAKtC,aAAL,GAAqB,IAArB;AACD,EAED;;;gBAPId,qBAQiB,YAAM;AACzB,MAAIJ,MAAM,GAAG,CAAb;AACA,MAAID,GAAG,GAAG,CAAV;AAEA,MAAI8F,MAAM,GAAG,EAAb;;AAEA,OAAK,IAAIlF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BX,IAAAA,MAAM;AACN6F,IAAAA,MAAM,6BACJlF,CAAC,GAAG,CADA,4BAEUZ,GAFV,+BAEgCC,MAFhC,cAAN;;AAIA,QAAIA,MAAM,KAAK,CAAf,EAAkB;AAChBA,MAAAA,MAAM,GAAG,CAAT;AACAD,MAAAA,GAAG;AACJ;AACF;;AAEDQ,EAAAA,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCiB,SAAjC,GAA6CoE,MAA7C;AACD;;eAwfYzF;;;;;ACrhBf;;AACA;;AACA;;;;AAEA;AACAA,cAAK0F,WAAL,IAEA;;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,MAAMC,SAAS,GAAG,IAAIxG,eAAJ,CAAW,CAAX,EAAc,MAAd,EAAsByG,eAAtB,EAA+BC,eAA/B,EAAwCC,QAAxC,EAAlB;AACA,MAAMC,SAAS,GAAG,IAAI5G,eAAJ,CAAW,CAAX,EAAc,MAAd,EAAsB6G,eAAtB,EAA+BC,eAA/B,EAAwCH,QAAxC,EAAlB;;AAEA/F,gBAAK0F,WAAL;;AAEA,MAAI1F,aAAJ,CAAS,CAAC4F,SAAD,EAAYI,SAAZ,CAAT,EAAiCG,GAAjC;AACD,CAPD,EASA;;;AACAC,CAAC,CAAC,YAAD,CAAD,CAAgBC,KAAhB,CAAsB;AAAA,SAAMD,CAAC,CAAC,cAAD,CAAD,CAAkBE,QAAlB,CAA2B,MAA3B,CAAN;AAAA,CAAtB;AACAF,CAAC,CAAC,qBAAD,CAAD,CAAyBC,KAAzB,CAA+B;AAAA,SAAMD,CAAC,CAAC,cAAD,CAAD,CAAkBG,WAAlB,CAA8B,MAA9B,CAAN;AAAA,CAA/B,GAEA;;AACAH,CAAC,CAAC,WAAD,CAAD,CAAeC,KAAf,CAAqBV,OAArB;AACAS,CAAC,CAAC,wBAAD,CAAD,CAA4BC,KAA5B,CAAkCV,OAAlC;;;ACvBA,IAAIa,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcC,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;AAC1BJ,EAAAA,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqBD,UAArB;AACA,OAAKE,GAAL,GAAW;AACTC,IAAAA,IAAI,EAAEN,MAAM,CAACC,MAAP,CAAcM,OADX;AAETC,IAAAA,gBAAgB,EAAE,EAFT;AAGTC,IAAAA,iBAAiB,EAAE,EAHV;AAITC,IAAAA,MAAM,EAAE,UAAUC,EAAV,EAAc;AACpB,WAAKH,gBAAL,CAAsBI,IAAtB,CAA2BD,EAAE,IAAI,YAAY,CAAE,CAA/C;AACD,KANQ;AAOTE,IAAAA,OAAO,EAAE,UAAUF,EAAV,EAAc;AACrB,WAAKF,iBAAL,CAAuBG,IAAvB,CAA4BD,EAA5B;AACD;AATQ,GAAX;AAYAX,EAAAA,MAAM,CAACC,MAAP,CAAcM,OAAd,GAAwB,IAAxB;AACD;;AAEDP,MAAM,CAACC,MAAP,CAAcC,MAAd,GAAuBA,MAAvB;AACA,IAAIY,aAAJ,EAAmBC,cAAnB;AAEA,IAAIC,MAAM,GAAGhB,MAAM,CAACC,MAAP,CAAce,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAACC,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;AAC5E,MAAIC,QAAQ,GAAG,MAA4BnI,QAAQ,CAACmI,QAApD;AACA,MAAIC,QAAQ,GAAGpI,QAAQ,CAACoI,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;AACA,MAAIC,EAAE,GAAG,IAAIH,SAAJ,CAAcE,QAAQ,GAAG,KAAX,GAAmBD,QAAnB,GAA8B,GAA9B,aAA2D,GAAzE,CAAT;;AACAE,EAAAA,EAAE,CAACC,SAAH,GAAe,UAASC,KAAT,EAAgB;AAC7BT,IAAAA,aAAa,GAAG,EAAhB;AACAC,IAAAA,cAAc,GAAG,EAAjB;AAEA,QAAIT,IAAI,GAAGkB,IAAI,CAACC,KAAL,CAAWF,KAAK,CAACjB,IAAjB,CAAX;;AAEA,QAAIA,IAAI,CAACzF,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAI6G,OAAO,GAAG,KAAd;AACApB,MAAAA,IAAI,CAACqB,MAAL,CAAYC,OAAZ,CAAoB,UAASC,KAAT,EAAgB;AAClC,YAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,cAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBL,KAAK,CAAClJ,EAA7B,CAA9B;;AACA,cAAIoJ,SAAJ,EAAe;AACbL,YAAAA,OAAO,GAAG,IAAV;AACD;AACF;AACF,OAPD,EAF0B,CAW1B;;AACAA,MAAAA,OAAO,GAAGA,OAAO,IAAIpB,IAAI,CAACqB,MAAL,CAAYQ,KAAZ,CAAkB,UAASN,KAAT,EAAgB;AACrD,eAAOA,KAAK,CAAChH,IAAN,KAAe,KAAf,IAAwBgH,KAAK,CAACO,SAAN,CAAgBC,EAA/C;AACD,OAFoB,CAArB;;AAIA,UAAIX,OAAJ,EAAa;AACXY,QAAAA,OAAO,CAACC,KAAR;AAEAjC,QAAAA,IAAI,CAACqB,MAAL,CAAYC,OAAZ,CAAoB,UAAUC,KAAV,EAAiB;AACnCW,UAAAA,QAAQ,CAACP,MAAM,CAACC,aAAR,EAAuBL,KAAvB,CAAR;AACD,SAFD;AAIAd,QAAAA,cAAc,CAACa,OAAf,CAAuB,UAAUa,CAAV,EAAa;AAClCC,UAAAA,YAAY,CAACD,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;AACD,SAFD;AAGD,OAVD,MAUO,IAAIzJ,QAAQ,CAAC2J,MAAb,EAAqB;AAAE;AAC5B3J,QAAAA,QAAQ,CAAC2J,MAAT;AACD;AACF;;AAED,QAAIrC,IAAI,CAACzF,IAAL,KAAc,QAAlB,EAA4B;AAC1BwG,MAAAA,EAAE,CAACuB,KAAH;;AACAvB,MAAAA,EAAE,CAACwB,OAAH,GAAa,YAAY;AACvB7J,QAAAA,QAAQ,CAAC2J,MAAT;AACD,OAFD;AAGD;;AAED,QAAIrC,IAAI,CAACzF,IAAL,KAAc,gBAAlB,EAAoC;AAClCyH,MAAAA,OAAO,CAACQ,GAAR,CAAY,2BAAZ;AAEAC,MAAAA,kBAAkB;AACnB;;AAED,QAAIzC,IAAI,CAACzF,IAAL,KAAc,OAAlB,EAA2B;AACzByH,MAAAA,OAAO,CAACU,KAAR,CAAc,kBAAkB1C,IAAI,CAAC0C,KAAL,CAAWC,OAA7B,GAAuC,IAAvC,GAA8C3C,IAAI,CAAC0C,KAAL,CAAWE,KAAvE;AAEAH,MAAAA,kBAAkB;AAElB,UAAII,OAAO,GAAGC,kBAAkB,CAAC9C,IAAD,CAAhC;AACA7G,MAAAA,QAAQ,CAAC4J,IAAT,CAAcC,WAAd,CAA0BH,OAA1B;AACD;AACF,GA1DD;AA2DD;;AAED,SAASJ,kBAAT,GAA8B;AAC5B,MAAII,OAAO,GAAG1J,QAAQ,CAAC8J,cAAT,CAAwBzD,UAAxB,CAAd;;AACA,MAAIqD,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACvJ,MAAR;AACD;AACF;;AAED,SAASwJ,kBAAT,CAA4B9C,IAA5B,EAAkC;AAChC,MAAI6C,OAAO,GAAG1J,QAAQ,CAAC+J,aAAT,CAAuB,KAAvB,CAAd;AACAL,EAAAA,OAAO,CAACxK,EAAR,GAAamH,UAAb,CAFgC,CAIhC;;AACA,MAAImD,OAAO,GAAGxJ,QAAQ,CAAC+J,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAIC,UAAU,GAAGhK,QAAQ,CAAC+J,aAAT,CAAuB,KAAvB,CAAjB;AACAP,EAAAA,OAAO,CAACS,SAAR,GAAoBpD,IAAI,CAAC0C,KAAL,CAAWC,OAA/B;AACAQ,EAAAA,UAAU,CAACC,SAAX,GAAuBpD,IAAI,CAAC0C,KAAL,CAAWE,KAAlC;AAEAC,EAAAA,OAAO,CAACxI,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0EsI,OAAO,CAACtI,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIY8I,UAAU,CAAC9I,SAJvB,GAImC,QAJnC,GAKA,QANF;AASA,SAAOwI,OAAP;AAED;;AAED,SAASQ,UAAT,CAAoB1D,MAApB,EAA4BtH,EAA5B,EAAgC;AAC9B,MAAIiL,OAAO,GAAG3D,MAAM,CAAC2D,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AAED,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,GAAV;;AAEA,OAAKF,CAAL,IAAUF,OAAV,EAAmB;AACjB,SAAKG,CAAL,IAAUH,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;AACvBE,MAAAA,GAAG,GAAGJ,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,EAAcC,CAAd,CAAN;;AACA,UAAIC,GAAG,KAAKrL,EAAR,IAAesL,KAAK,CAACC,OAAN,CAAcF,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAACxJ,MAAJ,GAAa,CAAd,CAAH,KAAwB7B,EAAjE,EAAsE;AACpEkL,QAAAA,OAAO,CAACjD,IAAR,CAAakD,CAAb;AACD;AACF;AACF;;AAED,MAAI7D,MAAM,CAACe,MAAX,EAAmB;AACjB6C,IAAAA,OAAO,GAAGA,OAAO,CAACM,MAAR,CAAeR,UAAU,CAAC1D,MAAM,CAACe,MAAR,EAAgBrI,EAAhB,CAAzB,CAAV;AACD;;AAED,SAAOkL,OAAP;AACD;;AAED,SAASrB,QAAT,CAAkBvC,MAAlB,EAA0B4B,KAA1B,EAAiC;AAC/B,MAAI+B,OAAO,GAAG3D,MAAM,CAAC2D,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAIA,OAAO,CAAC/B,KAAK,CAAClJ,EAAP,CAAP,IAAqB,CAACsH,MAAM,CAACe,MAAjC,EAAyC;AACvC,QAAIL,EAAE,GAAG,IAAIyD,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6CvC,KAAK,CAACO,SAAN,CAAgBC,EAA7D,CAAT;AACAR,IAAAA,KAAK,CAACC,KAAN,GAAc,CAAC8B,OAAO,CAAC/B,KAAK,CAAClJ,EAAP,CAAtB;AACAiL,IAAAA,OAAO,CAAC/B,KAAK,CAAClJ,EAAP,CAAP,GAAoB,CAACgI,EAAD,EAAKkB,KAAK,CAACwC,IAAX,CAApB;AACD,GAJD,MAIO,IAAIpE,MAAM,CAACe,MAAX,EAAmB;AACxBwB,IAAAA,QAAQ,CAACvC,MAAM,CAACe,MAAR,EAAgBa,KAAhB,CAAR;AACD;AACF;;AAED,SAASG,cAAT,CAAwB/B,MAAxB,EAAgCtH,EAAhC,EAAoC;AAClC,MAAIiL,OAAO,GAAG3D,MAAM,CAAC2D,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAI,CAACA,OAAO,CAACjL,EAAD,CAAR,IAAgBsH,MAAM,CAACe,MAA3B,EAAmC;AACjC,WAAOgB,cAAc,CAAC/B,MAAM,CAACe,MAAR,EAAgBrI,EAAhB,CAArB;AACD;;AAED,MAAImI,aAAa,CAACnI,EAAD,CAAjB,EAAuB;AACrB;AACD;;AACDmI,EAAAA,aAAa,CAACnI,EAAD,CAAb,GAAoB,IAApB;AAEA,MAAI2L,MAAM,GAAGrE,MAAM,CAACsE,KAAP,CAAa5L,EAAb,CAAb;AAEAoI,EAAAA,cAAc,CAACH,IAAf,CAAoB,CAACX,MAAD,EAAStH,EAAT,CAApB;;AAEA,MAAI2L,MAAM,IAAIA,MAAM,CAACjE,GAAjB,IAAwBiE,MAAM,CAACjE,GAAP,CAAWG,gBAAX,CAA4BhG,MAAxD,EAAgE;AAC9D,WAAO,IAAP;AACD;;AAED,SAAOmJ,UAAU,CAAC1B,MAAM,CAACC,aAAR,EAAuBvJ,EAAvB,CAAV,CAAqC6L,IAArC,CAA0C,UAAU7L,EAAV,EAAc;AAC7D,WAAOqJ,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBvJ,EAAvB,CAArB;AACD,GAFM,CAAP;AAGD;;AAED,SAAS+J,YAAT,CAAsBzC,MAAtB,EAA8BtH,EAA9B,EAAkC;AAChC,MAAI2L,MAAM,GAAGrE,MAAM,CAACsE,KAAP,CAAa5L,EAAb,CAAb;AACAsH,EAAAA,MAAM,CAACM,OAAP,GAAiB,EAAjB;;AACA,MAAI+D,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACjE,GAAP,CAAWC,IAAX,GAAkBL,MAAM,CAACM,OAAzB;AACD;;AAED,MAAI+D,MAAM,IAAIA,MAAM,CAACjE,GAAjB,IAAwBiE,MAAM,CAACjE,GAAP,CAAWI,iBAAX,CAA6BjG,MAAzD,EAAiE;AAC/D8J,IAAAA,MAAM,CAACjE,GAAP,CAAWI,iBAAX,CAA6BmB,OAA7B,CAAqC,UAAU6C,EAAV,EAAc;AACjDA,MAAAA,EAAE,CAACxE,MAAM,CAACM,OAAR,CAAF;AACD,KAFD;AAGD;;AAED,SAAON,MAAM,CAACsE,KAAP,CAAa5L,EAAb,CAAP;AACAsH,EAAAA,MAAM,CAACtH,EAAD,CAAN;AAEA2L,EAAAA,MAAM,GAAGrE,MAAM,CAACsE,KAAP,CAAa5L,EAAb,CAAT;;AACA,MAAI2L,MAAM,IAAIA,MAAM,CAACjE,GAAjB,IAAwBiE,MAAM,CAACjE,GAAP,CAAWG,gBAAX,CAA4BhG,MAAxD,EAAgE;AAC9D8J,IAAAA,MAAM,CAACjE,GAAP,CAAWG,gBAAX,CAA4BoB,OAA5B,CAAoC,UAAU6C,EAAV,EAAc;AAChDA,MAAAA,EAAE;AACH,KAFD;;AAGA,WAAO,IAAP;AACD;AACF","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["class Player {\r\n  constructor(id, name, avatar, weapon) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.avatar = avatar;\r\n    this.weapon = weapon;\r\n  }\r\n\r\n  generate = () => {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      avatar: `<img src=\"${this.avatar}\" />`,\r\n      health: 100,\r\n      location: { row: 0, column: 0 },\r\n      weapon: {\r\n        damage: 10,\r\n        image: `<img src=\"${this.weapon}\" data-damage=\"10\" />`,\r\n        old: null,\r\n      },\r\n    };\r\n  };\r\n}\r\n\r\nexport default Player;\r\n","import player1 from \"../images/player-1.png\";\r\nimport player2 from \"../images/player-2.png\";\r\nimport weapon1 from \"../images/weapon-1.png\";\r\nimport weapon2 from \"../images/weapon-2.png\";\r\nimport weapon3 from \"../images/weapon-3.png\";\r\nimport weapon4 from \"../images/weapon-4.png\";\r\nimport obstacle from \"../images/obstacle.png\";\r\n\r\nexport { player1, player2, weapon1, weapon2, weapon3, weapon4, obstacle };\r\n","import { weapon1, weapon2, obstacle } from \"./assets\";\r\n\r\nclass Game {\r\n  constructor(players) {\r\n    this.players = players;\r\n    this.tiles = document.querySelectorAll(\".board > div\");\r\n    this.currentPlayer = null;\r\n  }\r\n\r\n  //Create game board on start up\r\n  static createBoard = () => {\r\n    let column = 0;\r\n    let row = 1;\r\n\r\n    let output = \"\";\r\n\r\n    for (let i = 0; i < 81; i++) {\r\n      column++;\r\n      output += `<div id=\"tile-${\r\n        i + 1\r\n      }\"  data-row=\"${row}\"  data-column=\"${column}\"></div>`;\r\n\r\n      if (column === 9) {\r\n        column = 0;\r\n        row++;\r\n      }\r\n    }\r\n\r\n    document.querySelector(\".board\").innerHTML = output;\r\n  };\r\n\r\n  //Creating New Game\r\n\r\n  new = () => {\r\n    this.reset();\r\n\r\n    //Close gameover modal window when click on newgame button inside modal.\r\n    document.querySelector(\"#gameover-modal\").classList.remove(\"open\");\r\n\r\n    //Place obstacles to game board (default obstacle number is 10)\r\n    for (let i = 0; i < 10; i++) {\r\n      this.placeObject(`<img src=\"${obstacle}\" />`, \"obstacle\");\r\n    }\r\n\r\n    //Place players to game board\r\n    this.players.map((player) => {\r\n      this.placeObject(player, \"player\");\r\n    });\r\n\r\n    //Place weapons to game board\r\n    this.placeObject(`<img src=\"${weapon1}\" data-damage=\"20\" />`, \"weapon\");\r\n    this.placeObject(`<img src=\"${weapon2}\" data-damage=\"30\"  />`, \"weapon\");\r\n\r\n    //Define current player on startup\r\n    this.currentPlayer = this.players[\r\n      Math.floor(Math.random() * this.players.length)\r\n    ];\r\n\r\n    this.detectTurn();\r\n  };\r\n\r\n  //Reset Player panel data for each player\r\n  reset = () => {\r\n    this.players.map((player) => {\r\n      const protection = document.querySelector(`#protection-p${player.id}`);\r\n\r\n      protection.innerHTML = \"UNPROTECTED\";\r\n      protection.classList.remove(\"protecting\");\r\n\r\n      document.querySelector(`#panel-p${player.id} h2`).innerHTML = player.name;\r\n      document.querySelector(`#health-p${player.id}`).innerHTML = player.health;\r\n      document.querySelector(`#damage-p${player.id}`).innerHTML =\r\n        player.weapon.damage;\r\n      document.querySelector(`#weapon-p${player.id}`).innerHTML =\r\n        player.weapon.image;\r\n    });\r\n  };\r\n\r\n  //Place Players and Weapons on Tiles\r\n\r\n  placeObject = (item, type) => {\r\n    const randomTile = Math.floor(Math.random() * this.tiles.length);\r\n    const { row, column } = this.tiles[randomTile].dataset;\r\n\r\n    // Check whether obstacles are placed horizontally\r\n    const detectObstacle = (row, column) => {\r\n      const r1 = document.querySelector(\r\n        `[data-row=\"${row - 1}\"][data-column=\"${column}\"]`\r\n      );\r\n      const r2 = document.querySelector(\r\n        `[data-row=\"${row - 2}\"][data-column=\"${column}\"]`\r\n      );\r\n      const r3 = document.querySelector(\r\n        `[data-row=\"${row + 1}\"][data-column=\"${column}\"]`\r\n      );\r\n      const r4 = document.querySelector(\r\n        `[data-row=\"${row + 2}\"][data-column=\"${column}\"]`\r\n      );\r\n\r\n      // Check whether obstacles are placed vertically\r\n      const c1 = document.querySelector(\r\n        `[data-column=\"${column - 1}\"][data-row=\"${row}\"]`\r\n      );\r\n      const c2 = document.querySelector(\r\n        `[data-column=\"${column - 2}\"][data-row=\"${row}\"]`\r\n      );\r\n      const c3 = document.querySelector(\r\n        `[data-column=\"${column + 1}\"][data-row=\"${row}\"]`\r\n      );\r\n      const c4 = document.querySelector(\r\n        `[data-column=\"${column + 2}\"][data-row=\"${row}\"]`\r\n      );\r\n\r\n      if (r1 && r1.classList.contains(\"obstacle\")) return true;\r\n      if (r2 && r2.classList.contains(\"obstacle\")) return true;\r\n      if (r3 && r3.classList.contains(\"obstacle\")) return true;\r\n      if (r4 && r4.classList.contains(\"obstacle\")) return true;\r\n\r\n      if (c1 && c1.classList.contains(\"obstacle\")) return true;\r\n      if (c2 && c2.classList.contains(\"obstacle\")) return true;\r\n      if (c3 && c3.classList.contains(\"obstacle\")) return true;\r\n      if (c4 && c4.classList.contains(\"obstacle\")) return true;\r\n\r\n      // Check whether obstacles are placed diagonally\r\n      const r1c1 = document.querySelector(\r\n        `[data-row=\"${row + 1}\"][data-column=\"${column + 1}\"]`\r\n      );\r\n\r\n      const r2c2 = document.querySelector(\r\n        `[data-row=\"${row - 1}\"][data-column=\"${column - 1}\"]`\r\n      );\r\n\r\n      const r3c3 = document.querySelector(\r\n        `[data-row=\"${row - 1}\"][data-column=\"${column + 1}\"]`\r\n      );\r\n\r\n      const r4c4 = document.querySelector(\r\n        `[data-row=\"${row + 1}\"][data-column=\"${column - 1}\"]`\r\n      );\r\n\r\n      if (r1c1 && r1c1.classList.contains(\"obstacle\")) return true;\r\n      if (r2c2 && r2c2.classList.contains(\"obstacle\")) return true;\r\n      if (r3c3 && r3c3.classList.contains(\"obstacle\")) return true;\r\n      if (r4c4 && r4c4.classList.contains(\"obstacle\")) return true;\r\n    };\r\n\r\n    const detectPlayer = (r, c) => {\r\n      if (this.players[0].location.row > 0) {\r\n        const p1c = +this.players[0].location.column;\r\n        const p1r = +this.players[0].location.row;\r\n\r\n        const yDistance = Math.abs(p1r - row);\r\n        const xDistance = Math.abs(p1c - column);\r\n\r\n        // Check if P1 is in same column and less than 4 steps away from P2\r\n        if (p1c === column && yDistance <= 4) {\r\n          // Check if there's a barrier between two players\r\n          for (let i = 1; i <= yDistance; i++) {\r\n            if (p1r > row) {\r\n              const y = document.querySelector(\r\n                `[data-row=\"${p1r - i}\"][data-column=\"${p1c}\"]`\r\n              );\r\n              if (y && y.classList.contains(\"obstacle\")) return false;\r\n            } else {\r\n              const y = document.querySelector(\r\n                `[data-row=\"${p1r + i}\"][data-column=\"${p1c}\"]`\r\n              );\r\n              if (y && y.classList.contains(\"obstacle\")) return false;\r\n            }\r\n          }\r\n\r\n          return true;\r\n        }\r\n\r\n        // Check if P1 is in same row and less than 4 steps away from P2\r\n        if (p1r === row && xDistance <= 4) {\r\n          // Check if there's a obstacle between two players\r\n          for (let i = 1; i <= xDistance; i++) {\r\n            if (p1c > column) {\r\n              const x = document.querySelector(\r\n                `[data-row=\"${p1r}\"][data-column=\"${p1c - i}\"]`\r\n              );\r\n              if (x && x.classList.contains(\"obstacle\")) return false;\r\n            } else {\r\n              const x = document.querySelector(\r\n                `[data-row=\"${p1r}\"][data-column=\"${p1c + i}\"]`\r\n              );\r\n              if (x && x.classList.contains(\"obstacle\")) return false;\r\n            }\r\n          }\r\n\r\n          return true;\r\n        }\r\n\r\n        if (\r\n          (xDistance === 1 && yDistance <= 4) ||\r\n          (yDistance === 1 && xDistance <= 4)\r\n        )\r\n          return true;\r\n      }\r\n    };\r\n\r\n    if (this.tiles[randomTile].classList.contains(\"occupied\"))\r\n      return this.placeObject(item, type);\r\n\r\n    if (type === \"player\") {\r\n      if (detectPlayer(+row, +column)) {\r\n        return this.placeObject(item, type);\r\n      }\r\n\r\n      this.players[item.id - 1].location = { row, column };\r\n\r\n      this.tiles[randomTile].innerHTML = item.avatar;\r\n    } else {\r\n      if (type === \"obstacle\" && detectObstacle(+row, +column)) {\r\n        return this.placeObject(item, type);\r\n      }\r\n      this.tiles[randomTile].innerHTML = item;\r\n    }\r\n    this.tiles[randomTile].classList.add(type);\r\n    this.tiles[randomTile].classList.add(\"occupied\");\r\n  };\r\n\r\n  //Highlight current player panel and show available tiles to move.\r\n\r\n  detectTurn = () => {\r\n    for (const panel of document.querySelectorAll(\".panel\")) {\r\n      panel.classList.remove(\"current\");\r\n    }\r\n\r\n    document\r\n      .querySelector(`#panel-p${this.currentPlayer.id}`)\r\n      .classList.add(\"current\");\r\n\r\n    this.showPlayerMoves();\r\n  };\r\n\r\n  //Change Player Turn\r\n\r\n  changeTurn = () => {\r\n    if (this.currentPlayer.id === 1) {\r\n      this.currentPlayer = this.players[1];\r\n    } else {\r\n      this.currentPlayer = this.players[0];\r\n    }\r\n\r\n    this.detectTurn();\r\n  };\r\n\r\n  // Player Moves\r\n\r\n  movePlayer = (e) => {\r\n    const oldPos = document.querySelector(\r\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${this.currentPlayer.location.column}\"]`\r\n    );\r\n\r\n    const newPos = e.target.nodeName === \"IMG\" ? e.path[1] : e.target;\r\n\r\n    if (this.currentPlayer.weapon.old) {\r\n      oldPos.innerHTML = this.currentPlayer.weapon.old;\r\n      oldPos.classList.add(\"weapon\");\r\n      oldPos.classList.remove(\"player\");\r\n      this.players[this.currentPlayer.id - 1].weapon.old = null;\r\n    } else {\r\n      oldPos.innerHTML = \"\";\r\n      oldPos.classList = \"\";\r\n    }\r\n\r\n    if (newPos.classList.contains(\"weapon\")) {\r\n      this.players[\r\n        this.currentPlayer.id - 1\r\n      ].weapon.old = this.currentPlayer.weapon.image;\r\n\r\n      this.players[this.currentPlayer.id - 1].weapon.image = newPos.innerHTML;\r\n\r\n      this.players[this.currentPlayer.id - 1].weapon.damage =\r\n        e.target.dataset.damage;\r\n\r\n      document.querySelector(`#weapon-p${this.currentPlayer.id}`).innerHTML =\r\n        newPos.innerHTML;\r\n\r\n      document.querySelector(`#damage-p${this.currentPlayer.id}`).innerHTML =\r\n        e.target.dataset.damage;\r\n\r\n      let weaponSound = document.querySelector(\"#weapon-sound\");\r\n      weaponSound.play();\r\n    }\r\n\r\n    newPos.innerHTML = this.currentPlayer.avatar;\r\n    newPos.classList.add(\"player\", \"occupied\");\r\n\r\n    this.players[this.currentPlayer.id - 1].location = {\r\n      row: newPos.dataset.row,\r\n      column: newPos.dataset.column,\r\n    };\r\n\r\n    for (const tile of document.querySelectorAll(\".highlight\")) {\r\n      tile.classList.remove(\"highlight\");\r\n      tile.removeEventListener(\"click\", this.movePlayer);\r\n    }\r\n\r\n    if (this.detectFight()) {\r\n      this.retaliation();\r\n    } else {\r\n      this.changeTurn();\r\n    }\r\n  };\r\n\r\n  // Detect Fight\r\n\r\n  detectFight = () => {\r\n    const row = Number(this.currentPlayer.location.row);\r\n    const column = Number(this.currentPlayer.location.column);\r\n\r\n    const north = document.querySelector(\r\n      `[data-row=\"${row - 1}\"][data-column=\"${column}\"]`\r\n    );\r\n\r\n    const south = document.querySelector(\r\n      `[data-row=\"${row + 1}\"][data-column=\"${column}\"]`\r\n    );\r\n\r\n    const east = document.querySelector(\r\n      `[data-row=\"${row}\"][data-column=\"${column + 1}\"]`\r\n    );\r\n\r\n    const west = document.querySelector(\r\n      `[data-row=\"${row}\"][data-column=\"${column - 1}\"]`\r\n    );\r\n\r\n    if (north && north.classList.contains(\"player\")) return true;\r\n    if (south && south.classList.contains(\"player\")) return true;\r\n    if (east && east.classList.contains(\"player\")) return true;\r\n    if (west && west.classList.contains(\"player\")) return true;\r\n  };\r\n\r\n  retaliation = () => {\r\n    const attacker = this.currentPlayer;\r\n    this.currentPlayer = attacker.id === 1 ? this.players[1] : this.players[0];\r\n    const opponent = this.currentPlayer;\r\n\r\n    document\r\n      .querySelector(`#panel-p${attacker.id}`)\r\n      .classList.remove(\"current\");\r\n    document.querySelector(`#panel-p${opponent.id}`).classList.add(\"current\");\r\n\r\n    // 1. Display modal window with attack information\r\n    const fightModal = document.querySelector(\"#fight-modal\");\r\n    document.querySelector(\"#avatar\").innerHTML = opponent.avatar;\r\n\r\n    setTimeout(() => {\r\n      fightModal.classList.add(\"open\");\r\n    }, 500);\r\n\r\n    const attack = () => {\r\n      document.querySelector(\"#protect\").removeEventListener(\"click\", protect);\r\n      document.querySelector(\"#run\").removeEventListener(\"click\", run);\r\n\r\n      fightModal.classList.remove(\"open\");\r\n\r\n      const health = opponent.health - attacker.weapon.damage;\r\n      document.querySelector(`#health-p${opponent.id}`).innerHTML = health;\r\n      this.players[opponent.id - 1].health = health;\r\n      const protection = document.querySelector(`#protection-p${opponent.id}`);\r\n      protection.innerHTML = \"UNPROTECTED\";\r\n      protection.classList.remove(\"protecting\");\r\n\r\n      if (this.gameOver(attacker, opponent)) return;\r\n\r\n      this.retaliation();\r\n    };\r\n\r\n    const protect = () => {\r\n      document.querySelector(\"#attack\").removeEventListener(\"click\", attack);\r\n      document.querySelector(\"#run\").removeEventListener(\"click\", run);\r\n\r\n      fightModal.classList.remove(\"open\");\r\n\r\n      const health = opponent.health - attacker.weapon.damage / 2;\r\n      document.querySelector(`#health-p${opponent.id}`).innerHTML = health;\r\n      this.players[opponent.id - 1].health = health;\r\n      const protection = document.querySelector(`#protection-p${opponent.id}`);\r\n      protection.innerHTML = \"PROTECTED\";\r\n      protection.classList.add(\"protecting\");\r\n\r\n      if (this.gameOver(attacker, opponent)) return;\r\n\r\n      this.retaliation();\r\n    };\r\n\r\n    const run = () => {\r\n      document.querySelector(\"#attack\").removeEventListener(\"click\", attack);\r\n      document.querySelector(\"#protect\").removeEventListener(\"click\", protect);\r\n\r\n      fightModal.classList.remove(\"open\");\r\n\r\n      const health = opponent.health - attacker.weapon.damage / 2;\r\n      document.querySelector(`#health-p${opponent.id}`).innerHTML = health;\r\n      this.players[opponent.id - 1].health = health;\r\n      const protection = document.querySelector(`#protection-p${opponent.id}`);\r\n      protection.innerHTML = \"PROTECTED\";\r\n      protection.classList.add(\"protecting\");\r\n\r\n      if (this.gameOver(attacker, opponent)) return;\r\n\r\n      this.showPlayerMoves();\r\n    };\r\n\r\n    document\r\n      .querySelector(\"#protect\")\r\n      .addEventListener(\"click\", protect, { once: true });\r\n\r\n    document\r\n      .querySelector(\"#attack\")\r\n      .addEventListener(\"click\", attack, { once: true });\r\n\r\n    document\r\n      .querySelector(\"#run\")\r\n      .addEventListener(\"click\", run, { once: true });\r\n  };\r\n\r\n  //Game Over Case\r\n\r\n  gameOver = (attacker, opponent) => {\r\n    if (this.players[opponent.id - 1].health <= 0) {\r\n      const gameOverModal = document.querySelector(\"#gameover-modal\");\r\n\r\n      gameOverModal.classList.add(\"open\");\r\n\r\n      document.querySelector(\r\n        \"#gameover-modal p:first-of-type\"\r\n      ).innerHTML = `${attacker.name}, you are the winner! :)`;\r\n\r\n      document.querySelector(\r\n        \"#gameover-modal p:last-of-type\"\r\n      ).innerHTML = `${opponent.name}, you are the loser! :(`;\r\n\r\n      return true;\r\n    }\r\n  };\r\n\r\n  //Highlight Player Moves\r\n\r\n  showPlayerMoves = () => {\r\n    const row = Number(this.currentPlayer.location.row);\r\n    const column = Number(this.currentPlayer.location.column);\r\n\r\n    const playerNorthMoves = (tile) => {\r\n      return document.querySelector(\r\n        `[data-row=\"${row - tile}\"][data-column=\"${column}\"]`\r\n      );\r\n    };\r\n\r\n    const playerEastMoves = (tile) => {\r\n      return document.querySelector(\r\n        `[data-row=\"${row}\"][data-column=\"${column + tile}\"]`\r\n      );\r\n    };\r\n\r\n    const playerSouthMoves = (tile) => {\r\n      return document.querySelector(\r\n        `[data-row=\"${row + tile}\"][data-column=\"${column}\"]`\r\n      );\r\n    };\r\n\r\n    const playerWestMoves = (tile) => {\r\n      return document.querySelector(\r\n        `[data-row=\"${row}\"][data-column=\"${column - tile}\"]`\r\n      );\r\n    };\r\n\r\n    //Highlight possible tiles NORTH(UP)\r\n    for (let i = 1; i <= 3; i++) {\r\n      if (playerNorthMoves(i)) {\r\n        if (\r\n          !playerNorthMoves(i).classList.contains(\"obstacle\") &&\r\n          !playerNorthMoves(i).classList.contains(\"player\")\r\n        ) {\r\n          playerNorthMoves(i).classList.add(\"highlight\");\r\n          playerNorthMoves(i).addEventListener(\"click\", this.movePlayer);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    //Highlight possible tiles EAST(RIGHT)\r\n    for (let i = 1; i <= 3; i++) {\r\n      if (playerEastMoves(i)) {\r\n        if (\r\n          !playerEastMoves(i).classList.contains(\"obstacle\") &&\r\n          !playerEastMoves(i).classList.contains(\"player\")\r\n        ) {\r\n          playerEastMoves(i).classList.add(\"highlight\");\r\n          playerEastMoves(i).addEventListener(\"click\", this.movePlayer);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    //Highlight possible tiles SOUTH(DOWN)\r\n    for (let i = 1; i <= 3; i++) {\r\n      if (playerSouthMoves(i)) {\r\n        if (\r\n          !playerSouthMoves(i).classList.contains(\"obstacle\") &&\r\n          !playerSouthMoves(i).classList.contains(\"player\")\r\n        ) {\r\n          playerSouthMoves(i).classList.add(\"highlight\");\r\n          playerSouthMoves(i).addEventListener(\"click\", this.movePlayer);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    //Highlight possible tiles WEST(LEFT)\r\n    for (let i = 1; i <= 3; i++) {\r\n      if (playerWestMoves(i)) {\r\n        if (\r\n          !playerWestMoves(i).classList.contains(\"obstacle\") &&\r\n          !playerWestMoves(i).classList.contains(\"player\")\r\n        ) {\r\n          playerWestMoves(i).classList.add(\"highlight\");\r\n          playerWestMoves(i).addEventListener(\"click\", this.movePlayer);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default Game;\r\n","import Player from \"./player\";\r\nimport { player1, player2, weapon3, weapon4 } from \"./assets\";\r\nimport Game from \"./game\";\r\n\r\n//Create board tiles on start up(even if new game button not be clicked)\r\nGame.createBoard();\r\n\r\n//Create game board\r\nconst newGame = () => {\r\n  const playerOne = new Player(1, \"Rick\", player1, weapon3).generate();\r\n  const playerTwo = new Player(2, \"Lori\", player2, weapon4).generate();\r\n\r\n  Game.createBoard();\r\n\r\n  new Game([playerOne, playerTwo]).new();\r\n};\r\n\r\n//Rules Modal Window\r\n$(\".rules-btn\").click(() => $(\"#rules-modal\").addClass(\"open\"));\r\n$(\"#rules-modal button\").click(() => $(\"#rules-modal\").removeClass(\"open\"));\r\n\r\n//Call New game function when click on new game button on startup and gameover modal.\r\n$(\".new-game\").click(newGame);\r\n$(\"#gameover-modal button\").click(newGame);\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}